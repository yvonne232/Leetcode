class Solution:
    def rob(self, nums: List[int]) -> int:
        if len(nums) == 1:
            return nums[0]

        def rob_linear(arr: List[int]) -> int:
            prev2, prev1 = 0, 0  # dp[i-2], dp[i-1]
            for x in arr:
                prev2, prev1 = prev1, max(prev1, prev2 + x)
            return prev1

        return max(
            rob_linear(nums[:-1]),  # exclude last
            rob_linear(nums[1:])    # exclude first
        )

For House Robber II:
n == 1 → return nums[0]
everything else → normal logic

Case 1 — Exclude the last house
rob_linear(nums[:-1])  # houses [0 ... n-2]
House n-1 is guaranteed NOT robbed, House 0 is now safe to consider; Becomes normal House Robber I

Case 2 — Exclude the first house
rob_linear(nums[1:])   # houses [1 ... n-1]; House 0 is guaranteed NOT robbed; House n-1 is now safe to consider; Becomes normal House Robber I
